(window.webpackJsonppanneau=window.webpackJsonppanneau||[]).push([[210],{1093:function(e,t){e.exports=function(e,t,n,a){var u=n?n.call(a,e,t):void 0;if(void 0!==u)return!!u;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),o=0;o<r.length;o++){var i=r[o];if(!l(i))return!1;var d=e[i],f=t[i];if(!1===(u=n?n.call(a,d,f,i):void 0)||void 0===u&&d!==f)return!1}return!0}},1104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=m(n(186)),u=m(n(80)),r=m(n(54)),s=m(n(19)),l=m(n(20)),o=m(n(29)),i=m(n(30)),d=m(n(1)),f=m(n(0)),h=m(n(2)),v=m(n(1093)),p=m(n(1007)),c=m(n(1008)),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(973));function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){(0,s.default)(this,t);var n=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onEnd=function(e){var t=n.state.handle;n.removeDocumentEvents(),(t||e)&&n.props.onAfterChange(n.getValue()),n.setState({handle:null})};var a=e.count,u=e.min,l=e.max,i=Array.apply(void 0,(0,r.default)(Array(a+1))).map(function(){return u}),d="defaultValue"in e?e.defaultValue:i,f=(void 0!==e.value?e.value:d).map(function(e,t){return n.trimAlignValue(e,t)}),h=f[0]===l?0:f.length-1;return n.state={handle:null,recent:h,bounds:f},n}return(0,i.default)(t,e),(0,l.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;if(("value"in e||"min"in e||"max"in e)&&(this.props.min!==e.min||this.props.max!==e.max||!(0,v.default)(this.props.value,e.value))){var n=this.state.bounds,a=e.value||n,u=a.map(function(n,a){return t.trimAlignValue(n,a,e)});if((u.length!==n.length||!u.every(function(e,t){return e===n[t]}))&&(this.setState({bounds:u}),a.some(function(t){return b.isValueOutOfRange(t,e)}))){var r=a.map(function(t){return b.ensureValueInRange(t,e)});this.props.onChange(r)}}}},{key:"onChange",value:function(e){var t=this.props;!("value"in t)?this.setState(e):void 0!==e.handle&&this.setState({handle:e.handle});var n=(0,u.default)({},this.state,e).bounds;t.onChange(n)}},{key:"onStart",value:function(e){var t=this.props,n=this.state,a=this.getValue();t.onBeforeChange(a);var u=this.calcValueByPos(e);this.startValue=u,this.startPosition=e;var s=this.getClosestBound(u);if(this.prevMovedHandleIndex=this.getBoundNeedMoving(u,s),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex}),u!==a[this.prevMovedHandleIndex]){var l=[].concat((0,r.default)(n.bounds));l[this.prevMovedHandleIndex]=u,this.onChange({bounds:l})}}},{key:"onMove",value:function(e,t){b.pauseEvent(e);var n=this.state,a=this.calcValueByPos(t);a!==n.bounds[n.handle]&&this.moveTo(a)}},{key:"onKeyboard",value:function(e){var t=b.getKeyboardValueMutator(e);if(t){b.pauseEvent(e);var n=this.state,a=this.props,u=n.bounds[n.handle],r=t(u,a),s=this.trimAlignValue(r);if(s===u)return;this.moveTo(s,!0)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(e){for(var t=this.state.bounds,n=0,a=1;a<t.length-1;++a)e>t[a]&&(n=a);return Math.abs(t[n+1]-e)<Math.abs(t[n]-e)&&(n+=1),n}},{key:"getBoundNeedMoving",value:function(e,t){var n=this.state,a=n.bounds,u=n.recent,r=t,s=a[t+1]===a[t];return s&&a[u]===a[t]&&(r=u),s&&e!==a[t+1]&&(r=e<a[t+1]?t:t+1),r}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var e=this.state.bounds;return e[e.length-1]}},{key:"getPoints",value:function(){var e=this.props,t=e.marks,n=e.step,a=e.min,r=e.max,s=this._getPointsCache;if(!s||s.marks!==t||s.step!==n){var l=(0,u.default)({},t);if(null!==n)for(var o=a;o<=r;o+=n)l[o]=o;var i=Object.keys(l).map(parseFloat);i.sort(function(e,t){return e-t}),this._getPointsCache={marks:t,step:n,points:i}}return this._getPointsCache.points}},{key:"moveTo",value:function(e,t){var n=this,a=this.state,u=this.props,s=[].concat((0,r.default)(a.bounds));s[a.handle]=e;var l=a.handle;!1!==u.pushable?this.pushSurroundingHandles(s,l):u.allowCross&&(s.sort(function(e,t){return e-t}),l=s.indexOf(e)),this.onChange({handle:l,bounds:s}),t&&this.setState({},function(){n.handlesRefs[l].focus()})}},{key:"pushSurroundingHandles",value:function(e,t){var n=e[t],a=this.props.pushable;a=Number(a);var u=0;if(e[t+1]-n<a&&(u=1),n-e[t-1]<a&&(u=-1),0!==u){var r=t+u,s=u*(e[r]-n);this.pushHandle(e,r,u,a-s)||(e[t]=e[r]-u*a)}}},{key:"pushHandle",value:function(e,t,n,a){for(var u=e[t],r=e[t];n*(r-u)<a;){if(!this.pushHandleOnePoint(e,t,n))return e[t]=u,!1;r=e[t]}return!0}},{key:"pushHandleOnePoint",value:function(e,t,n){var a=this.getPoints(),u=a.indexOf(e[t])+n;if(u>=a.length||u<0)return!1;var r=t+n,s=a[u],l=this.props.pushable,o=n*(e[r]-s);return!!this.pushHandle(e,r,n,l-o)&&(e[t]=s,!0)}},{key:"trimAlignValue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(0,u.default)({},this.props,n),r=b.ensureValueInRange(e,a),s=this.ensureValueNotConflict(t,r,a);return b.ensureValuePrecision(s,a)}},{key:"ensureValueNotConflict",value:function(e,t,n){var a=n.allowCross,u=n.pushable,r=this.state||{},s=r.bounds;if(e=void 0===e?r.handle:e,u=Number(u),!a&&null!=e&&void 0!==s){if(e>0&&t<=s[e-1]+u)return s[e-1]+u;if(e<s.length-1&&t>=s[e+1]-u)return s[e+1]-u}return t}},{key:"render",value:function(){var e=this,t=this.state,n=t.handle,u=t.bounds,r=this.props,s=r.prefixCls,l=r.vertical,o=r.included,i=r.disabled,f=r.min,v=r.max,c=r.handle,b=r.trackStyle,m=r.handleStyle,g=r.tabIndex,y=u.map(function(t){return e.calcOffset(t)}),k=s+"-handle",x=u.map(function(t,u){var r;return c({className:(0,h.default)((r={},(0,a.default)(r,k,!0),(0,a.default)(r,k+"-"+(u+1),!0),r)),prefixCls:s,vertical:l,offset:y[u],value:t,dragging:n===u,index:u,tabIndex:g[u]||0,min:f,max:v,disabled:i,style:m[u],ref:function(t){return e.saveHandle(u,t)}})});return{tracks:u.slice(0,-1).map(function(e,t){var n,u=t+1,r=(0,h.default)((n={},(0,a.default)(n,s+"-track",!0),(0,a.default)(n,s+"-track-"+u,!0),n));return d.default.createElement(p.default,{className:r,vertical:l,included:o,offset:y[u-1],length:y[u]-y[u-1],style:b[t],key:u})}),handles:x}}}]),t}(d.default.Component);g.displayName="Range",g.propTypes={defaultValue:f.default.arrayOf(f.default.number),value:f.default.arrayOf(f.default.number),count:f.default.number,pushable:f.default.oneOfType([f.default.bool,f.default.number]),allowCross:f.default.bool,disabled:f.default.bool,tabIndex:f.default.arrayOf(f.default.number),min:f.default.number,max:f.default.number},g.defaultProps={count:1,allowCross:!0,pushable:!1,tabIndex:[]},t.default=(0,c.default)(g),e.exports=t.default}}]);